"use strict";(function(){function D(n,a,c,s,b,o){return{tag:n,key:a,attrs:c,children:s,text:b,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}D.normalize=function(n){return Array.isArray(n)?D("[",void 0,void 0,D.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:D("#",void 0,void 0,String(n),void 0,void 0)},D.normalizeChildren=function(n){var a=[];if(n.length){for(var c=n[0]!=null&&n[0].key!=null,s=1;s<n.length;s++)if((n[s]!=null&&n[s].key!=null)!==c)throw new TypeError(c&&(n[s]!=null||typeof n[s]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var s=0;s<n.length;s++)a[s]=D.normalize(n[s])}return a};function Ct(){var n=arguments[this],a=this+1,c;if(n==null?n={}:(typeof n!="object"||n.tag!=null||Array.isArray(n))&&(n={},a=this),arguments.length===a+1)c=arguments[a],Array.isArray(c)||(c=[c]);else for(c=[];a<arguments.length;)c.push(arguments[a++]);return D("",n.key,n,c)}var Dt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,At={};function Nt(n){for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))return!1;return!0}function Ht(n){for(var a,c="div",s=[],b={};a=Dt.exec(n);){var o=a[1],m=a[2];if(o===""&&m!=="")c=m;else if(o==="#")b.id=m;else if(o===".")s.push(m);else if(a[3][0]==="["){var h=a[6];h&&(h=h.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),a[4]==="class"?s.push(h):b[a[4]]=h===""?h:h||!0}}return s.length>0&&(b.className=s.join(" ")),At[n]={tag:c,attrs:b}}function Ft(n,a){var c=a.attrs,s=D.normalizeChildren(a.children),b=Object.prototype.hasOwnProperty.call(c,"class"),o=b?c.class:c.className;if(a.tag=n.tag,a.attrs=null,a.children=void 0,!Nt(n.attrs)&&!Nt(c)){var m={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(m[h]=c[h]);c=m}for(var h in n.attrs)Object.prototype.hasOwnProperty.call(n.attrs,h)&&h!=="className"&&!Object.prototype.hasOwnProperty.call(c,h)&&(c[h]=n.attrs[h]);(o!=null||n.attrs.className!=null)&&(c.className=o!=null?n.attrs.className!=null?String(n.attrs.className)+" "+String(o):o:n.attrs.className!=null?n.attrs.className:null),b&&(c.class=null);for(var h in c)if(Object.prototype.hasOwnProperty.call(c,h)&&h!=="key"){a.attrs=c;break}return Array.isArray(s)&&s.length===1&&s[0]!=null&&s[0].tag==="#"?a.text=s[0].children:a.children=s,a}function W(n){if(n==null||typeof n!="string"&&typeof n!="function"&&typeof n.view!="function")throw Error("The selector must be either a string or a component.");var a=Ct.apply(1,arguments);return typeof n=="string"&&(a.children=D.normalizeChildren(a.children),n!=="[")?Ft(At[n]||Ht(n),a):(a.tag=n,a)}function Ut(n){return(n===void 0||n==null)&&(n=""),D("<",void 0,void 0,n,void 0,void 0)}function $t(){var n=Ct.apply(0,arguments);return n.tag="[",n.children=D.normalizeChildren(n.children),n}W.trust=Ut,W.fragment=$t;function Kt(n){var a=n&&n.document,c,s={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function b(e){return e.attrs&&e.attrs.xmlns||s[e.tag]}function o(e,t){if(e.state!==t)throw new Error("'vnode.state' must not be modified.")}function m(e){var t=e.state;try{return this.apply(t,arguments)}finally{o(e,t)}}function h(){try{return a.activeElement}catch(e){return null}}function u(e,t,r,i,f,l,g){for(var O=r;O<i;O++){var p=t[O];p!=null&&y(e,p,f,g,l)}}function y(e,t,r,i,f){var l=t.tag;if(typeof l=="string")switch(t.state={},t.attrs!=null&&mt(t.attrs,t,r),l){case"#":C(e,t,f);break;case"<":E(e,t,i,f);break;case"[":$(e,t,r,i,f);break;default:N(e,t,r,i,f)}else I(e,t,r,i,f)}function C(e,t,r){t.dom=a.createTextNode(t.children),X(e,t.dom,r)}var R={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function E(e,t,r,i){var f=t.children.match(/^\s*?<(\w+)/im)||[],l=a.createElement(R[f[1]]||"div");r==="http://www.w3.org/2000/svg"?(l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",l=l.firstChild):l.innerHTML=t.children,t.dom=l.firstChild,t.domSize=l.childNodes.length,t.instance=[];for(var g=a.createDocumentFragment(),O;O=l.firstChild;)t.instance.push(O),g.appendChild(O);X(e,g,i)}function $(e,t,r,i,f){var l=a.createDocumentFragment();if(t.children!=null){var g=t.children;u(l,g,0,g.length,r,null,i)}t.dom=l.firstChild,t.domSize=l.childNodes.length,X(e,l,f)}function N(e,t,r,i,f){var l=t.tag,g=t.attrs,O=g&&g.is;i=b(t)||i;var p=i?O?a.createElementNS(i,l,{is:O}):a.createElementNS(i,l):O?a.createElement(l,{is:O}):a.createElement(l);if(t.dom=p,g!=null&&Yt(t,g,i),X(e,p,f),!Z(t)&&(t.text!=null&&(t.text!==""?p.textContent=t.text:t.children=[D("#",void 0,void 0,t.text,void 0,void 0)]),t.children!=null)){var j=t.children;u(p,j,0,j.length,r,null,i),t.tag==="select"&&g!=null&&Wt(t,g)}}function A(e,t){var r;if(typeof e.tag.view=="function"){if(e.state=Object.create(e.tag),r=e.state.view,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0}else{if(e.state=void 0,r=e.tag,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0,e.state=e.tag.prototype!=null&&typeof e.tag.prototype.view=="function"?new e.tag(e):e.tag(e)}if(mt(e.state,e,t),e.attrs!=null&&mt(e.attrs,e,t),e.instance=D.normalize(m.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function I(e,t,r,i,f){A(t,r),t.instance!=null?(y(e,t.instance,r,i,f),t.dom=t.instance.dom,t.domSize=t.dom!=null?t.instance.domSize:0):t.domSize=0}function F(e,t,r,i,f,l){if(!(t===r||t==null&&r==null))if(t==null||t.length===0)u(e,r,0,r.length,i,f,l);else if(r==null||r.length===0)v(e,t,0,t.length);else{var g=t[0]!=null&&t[0].key!=null,O=r[0]!=null&&r[0].key!=null,p=0,j=0;if(!g)for(;j<t.length&&t[j]==null;)j++;if(!O)for(;p<r.length&&r[p]==null;)p++;if(g!==O)v(e,t,j,t.length),u(e,r,p,r.length,i,f,l);else if(O){for(var J=t.length-1,K=r.length-1,lt,B,H,Q,q,gt;J>=j&&K>=p&&(Q=t[J],q=r[K],Q.key===q.key);)Q!==q&&G(e,Q,q,i,f,l),q.dom!=null&&(f=q.dom),J--,K--;for(;J>=j&&K>=p&&(B=t[j],H=r[p],B.key===H.key);)j++,p++,B!==H&&G(e,B,H,i,M(t,j,f),l);for(;J>=j&&K>=p&&!(p===K||B.key!==q.key||Q.key!==H.key);)gt=M(t,j,f),V(e,Q,gt),Q!==H&&G(e,Q,H,i,gt,l),++p<=--K&&V(e,B,f),B!==q&&G(e,B,q,i,f,l),q.dom!=null&&(f=q.dom),j++,J--,Q=t[J],q=r[K],B=t[j],H=r[p];for(;J>=j&&K>=p&&Q.key===q.key;)Q!==q&&G(e,Q,q,i,f,l),q.dom!=null&&(f=q.dom),J--,K--,Q=t[J],q=r[K];if(p>K)v(e,t,j,J+1);else if(j>J)u(e,r,p,K+1,i,f,l);else{var ee=f,_t=K-p+1,tt=new Array(_t),wt=0,_=0,bt=2147483647,xt=0,lt,Ot;for(_=0;_<_t;_++)tt[_]=-1;for(_=K;_>=p;_--){lt==null&&(lt=L(t,j,J+1)),q=r[_];var k=lt[q.key];k!=null&&(bt=k<bt?k:-1,tt[_-p]=k,Q=t[k],t[k]=null,Q!==q&&G(e,Q,q,i,f,l),q.dom!=null&&(f=q.dom),xt++)}if(f=ee,xt!==J-j+1&&v(e,t,j,J+1),xt===0)u(e,r,p,K+1,i,f,l);else if(bt===-1)for(Ot=z(tt),wt=Ot.length-1,_=K;_>=p;_--)H=r[_],tt[_-p]===-1?y(e,H,i,l,f):Ot[wt]===_-p?wt--:V(e,H,f),H.dom!=null&&(f=r[_].dom);else for(_=K;_>=p;_--)H=r[_],tt[_-p]===-1&&y(e,H,i,l,f),H.dom!=null&&(f=r[_].dom)}}else{var yt=t.length<r.length?t.length:r.length;for(p=p<j?p:j;p<yt;p++)B=t[p],H=r[p],!(B===H||B==null&&H==null)&&(B==null?y(e,H,i,l,M(t,p+1,f)):H==null?ft(e,B):G(e,B,H,i,M(t,p+1,f),l));t.length>yt&&v(e,t,p,t.length),r.length>yt&&u(e,r,p,r.length,i,f,l)}}}function G(e,t,r,i,f,l){var g=t.tag,O=r.tag;if(g===O){if(r.state=t.state,r.events=t.events,te(r,t))return;if(typeof g=="string")switch(r.attrs!=null&&pt(r.attrs,r,i),g){case"#":Y(t,r);break;case"<":U(e,t,r,l,f);break;case"[":w(e,t,r,i,f,l);break;default:x(t,r,i,l)}else T(e,t,r,i,f,l)}else ft(e,t),y(e,r,i,l,f)}function Y(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children),t.dom=e.dom}function U(e,t,r,i,f){t.children!==r.children?(Rt(e,t),E(e,r,i,f)):(r.dom=t.dom,r.domSize=t.domSize,r.instance=t.instance)}function w(e,t,r,i,f,l){F(e,t.children,r.children,i,f,l);var g=0,O=r.children;if(r.dom=null,O!=null){for(var p=0;p<O.length;p++){var j=O[p];j!=null&&j.dom!=null&&(r.dom==null&&(r.dom=j.dom),g+=j.domSize||1)}g!==1&&(r.domSize=g)}}function x(e,t,r,i){var f=t.dom=e.dom;i=b(t)||i,t.tag==="textarea"&&(t.attrs==null&&(t.attrs={}),t.text!=null&&(t.attrs.value=t.text,t.text=void 0)),Vt(t,e.attrs,t.attrs,i),Z(t)||(e.text!=null&&t.text!=null&&t.text!==""?e.text.toString()!==t.text.toString()&&(e.dom.firstChild.nodeValue=t.text):(e.text!=null&&(e.children=[D("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),t.text!=null&&(t.children=[D("#",void 0,void 0,t.text,void 0,void 0)]),F(f,e.children,t.children,r,null,i)))}function T(e,t,r,i,f,l){if(r.instance=D.normalize(m.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");pt(r.state,r,i),r.attrs!=null&&pt(r.attrs,r,i),r.instance!=null?(t.instance==null?y(e,r.instance,i,l,f):G(e,t.instance,r.instance,i,f,l),r.dom=r.instance.dom,r.domSize=r.instance.domSize):t.instance!=null?(ft(e,t.instance),r.dom=void 0,r.domSize=0):(r.dom=t.dom,r.domSize=t.domSize)}function L(e,t,r){for(var i=Object.create(null);t<r;t++){var f=e[t];if(f!=null){var l=f.key;l!=null&&(i[l]=t)}}return i}var P=[];function z(e){for(var t=[0],r=0,i=0,f=0,l=P.length=e.length,f=0;f<l;f++)P[f]=e[f];for(var f=0;f<l;++f)if(e[f]!==-1){var g=t[t.length-1];if(e[g]<e[f]){P[f]=g,t.push(f);continue}for(r=0,i=t.length-1;r<i;){var O=(r>>>1)+(i>>>1)+(r&i&1);e[t[O]]<e[f]?r=O+1:i=O}e[f]<e[t[r]]&&(r>0&&(P[f]=t[r-1]),t[r]=f)}for(r=t.length,i=t[r-1];r-- >0;)t[r]=i,i=P[i];return P.length=0,t}function M(e,t,r){for(;t<e.length;t++)if(e[t]!=null&&e[t].dom!=null)return e[t].dom;return r}function V(e,t,r){var i=a.createDocumentFragment();nt(e,i,t),X(e,i,r)}function nt(e,t,r){for(;r.dom!=null&&r.dom.parentNode===e;){if(typeof r.tag!="string"){if(r=r.instance,r!=null)continue}else if(r.tag==="<")for(var i=0;i<r.instance.length;i++)t.appendChild(r.instance[i]);else if(r.tag!=="[")t.appendChild(r.dom);else if(r.children.length===1){if(r=r.children[0],r!=null)continue}else for(var i=0;i<r.children.length;i++){var f=r.children[i];f!=null&&nt(e,t,f)}break}}function X(e,t,r){r!=null?e.insertBefore(t,r):e.appendChild(t)}function Z(e){if(e.attrs==null||e.attrs.contenteditable==null&&e.attrs.contentEditable==null)return!1;var t=e.children;if(t!=null&&t.length===1&&t[0].tag==="<"){var r=t[0].children;e.dom.innerHTML!==r&&(e.dom.innerHTML=r)}else if(e.text!=null||t!=null&&t.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function v(e,t,r,i){for(var f=r;f<i;f++){var l=t[f];l!=null&&ft(e,l)}}function ft(e,t){var r=0,i=t.state,f,l;if(typeof t.tag!="string"&&typeof t.state.onbeforeremove=="function"){var g=m.call(t.state.onbeforeremove,t);g!=null&&typeof g.then=="function"&&(r=1,f=g)}if(t.attrs&&typeof t.attrs.onbeforeremove=="function"){var g=m.call(t.attrs.onbeforeremove,t);g!=null&&typeof g.then=="function"&&(r|=2,l=g)}if(o(t,i),!r)at(t),ct(e,t);else{if(f!=null){var O=function(){r&1&&(r&=2,r||p())};f.then(O,O)}if(l!=null){var O=function(){r&2&&(r&=1,r||p())};l.then(O,O)}}function p(){o(t,i),at(t),ct(e,t)}}function Rt(e,t){for(var r=0;r<t.instance.length;r++)e.removeChild(t.instance[r])}function ct(e,t){for(;t.dom!=null&&t.dom.parentNode===e;){if(typeof t.tag!="string"){if(t=t.instance,t!=null)continue}else if(t.tag==="<")Rt(e,t);else{if(t.tag!=="["&&(e.removeChild(t.dom),!Array.isArray(t.children)))break;if(t.children.length===1){if(t=t.children[0],t!=null)continue}else for(var r=0;r<t.children.length;r++){var i=t.children[r];i!=null&&ct(e,i)}}break}}function at(e){if(typeof e.tag!="string"&&typeof e.state.onremove=="function"&&m.call(e.state.onremove,e),e.attrs&&typeof e.attrs.onremove=="function"&&m.call(e.attrs.onremove,e),typeof e.tag!="string")e.instance!=null&&at(e.instance);else{var t=e.children;if(Array.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];i!=null&&at(i)}}}function Yt(e,t,r){e.tag==="input"&&t.type!=null&&e.dom.setAttribute("type",t.type);var i=t!=null&&e.tag==="input"&&t.type==="file";for(var f in t)st(e,f,null,t[f],r,i)}function st(e,t,r,i,f,l){if(!(t==="key"||t==="is"||i==null||Lt(t)||r===i&&!kt(e,t)&&typeof i!="object"||t==="type"&&e.tag==="input")){if(t[0]==="o"&&t[1]==="n")return Mt(e,t,i);if(t.slice(0,6)==="xlink:")e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),i);else if(t==="style")It(e.dom,r,i);else if(qt(e,t,f)){if(t==="value"){if((e.tag==="input"||e.tag==="textarea")&&e.dom.value===""+i&&(l||e.dom===h())||e.tag==="select"&&r!==null&&e.dom.value===""+i||e.tag==="option"&&r!==null&&e.dom.value===""+i)return;if(l&&""+i!=""){console.error("`value` is read-only on file inputs!");return}}e.dom[t]=i}else typeof i=="boolean"?i?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute(t==="className"?"class":t,i)}}function Zt(e,t,r,i){if(!(t==="key"||t==="is"||r==null||Lt(t)))if(t[0]==="o"&&t[1]==="n")Mt(e,t,void 0);else if(t==="style")It(e.dom,r,null);else if(qt(e,t,i)&&t!=="className"&&!(t==="value"&&(e.tag==="option"||e.tag==="select"&&e.dom.selectedIndex===-1&&e.dom===h()))&&!(e.tag==="input"&&t==="type"))e.dom[t]=null;else{var f=t.indexOf(":");f!==-1&&(t=t.slice(f+1)),r!==!1&&e.dom.removeAttribute(t==="className"?"class":t)}}function Wt(e,t){if("value"in t)if(t.value===null)e.dom.selectedIndex!==-1&&(e.dom.value=null);else{var r=""+t.value;(e.dom.value!==r||e.dom.selectedIndex===-1)&&(e.dom.value=r)}"selectedIndex"in t&&st(e,"selectedIndex",null,t.selectedIndex,void 0)}function Vt(e,t,r,i){if(r!=null){e.tag==="input"&&r.type!=null&&e.dom.setAttribute("type",r.type);var f=e.tag==="input"&&r.type==="file";for(var l in r)st(e,l,t&&t[l],r[l],i,f)}var g;if(t!=null)for(var l in t)(g=t[l])!=null&&(r==null||r[l]==null)&&Zt(e,l,g,i)}function kt(e,t){return t==="value"||t==="checked"||t==="selectedIndex"||t==="selected"&&e.dom===h()||e.tag==="option"&&e.dom.parentNode===a.activeElement}function Lt(e){return e==="oninit"||e==="oncreate"||e==="onupdate"||e==="onremove"||e==="onbeforeremove"||e==="onbeforeupdate"}function qt(e,t,r){return r===void 0&&(e.tag.indexOf("-")>-1||e.attrs!=null&&e.attrs.is||t!=="href"&&t!=="list"&&t!=="form"&&t!=="width"&&t!=="height")&&t in e.dom}var vt=/[A-Z]/g;function dt(e){return"-"+e.toLowerCase()}function ht(e){return e[0]==="-"&&e[1]==="-"?e:e==="cssFloat"?"float":e.replace(vt,dt)}function It(e,t,r){if(t!==r)if(r==null)e.style.cssText="";else if(typeof r!="object")e.style.cssText=r;else if(t==null||typeof t!="object"){e.style.cssText="";for(var i in r){var f=r[i];f!=null&&e.style.setProperty(ht(i),String(f))}}else{for(var i in r){var f=r[i];f!=null&&(f=String(f))!==String(t[i])&&e.style.setProperty(ht(i),f)}for(var i in t)t[i]!=null&&r[i]==null&&e.style.removeProperty(ht(i))}}function ot(){this._=c}ot.prototype=Object.create(null),ot.prototype.handleEvent=function(e){var t=this["on"+e.type],r;typeof t=="function"?r=t.call(e.currentTarget,e):typeof t.handleEvent=="function"&&t.handleEvent(e),this._&&e.redraw!==!1&&(0,this._)(),r===!1&&(e.preventDefault(),e.stopPropagation())};function Mt(e,t,r){if(e.events!=null){if(e.events._=c,e.events[t]===r)return;r!=null&&(typeof r=="function"||typeof r=="object")?(e.events[t]==null&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=r):(e.events[t]!=null&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0)}else r!=null&&(typeof r=="function"||typeof r=="object")&&(e.events=new ot,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=r)}function mt(e,t,r){typeof e.oninit=="function"&&m.call(e.oninit,t),typeof e.oncreate=="function"&&r.push(m.bind(e.oncreate,t))}function pt(e,t,r){typeof e.onupdate=="function"&&r.push(m.bind(e.onupdate,t))}function te(e,t){do{if(e.attrs!=null&&typeof e.attrs.onbeforeupdate=="function"){var r=m.call(e.attrs.onbeforeupdate,e,t);if(r!==void 0&&!r)break}if(typeof e.tag!="string"&&typeof e.state.onbeforeupdate=="function"){var r=m.call(e.state.onbeforeupdate,e,t);if(r!==void 0&&!r)break}return!1}while(!1);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,!0}var d;return function(e,t,r){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(d!=null&&e.contains(d))throw new TypeError("Node is currently being rendered to and thus is locked.");var i=c,f=d,l=[],g=h(),O=e.namespaceURI;d=e,c=typeof r=="function"?r:void 0;try{e.vnodes==null&&(e.textContent=""),t=D.normalizeChildren(Array.isArray(t)?t:[t]),F(e,e.vnodes,t,l,null,O==="http://www.w3.org/1999/xhtml"?void 0:O),e.vnodes=t,g!=null&&h()!==g&&typeof g.focus=="function"&&g.focus();for(var p=0;p<l.length;p++)l[p]()}finally{c=i,d=f}}}var Tt=Kt(typeof window!="undefined"?window:null);function Qt(n,a,c){var s=[],b=!1,o=-1;function m(){for(o=0;o<s.length;o+=2)try{n(s[o],D(s[o+1]),u)}catch(C){c.error(C)}o=-1}function h(){b=!1,m()}function u(){b||(b=!0,a(h))}u.sync=m;function y(C,R){if(R!=null&&R.view==null&&typeof R!="function")throw new TypeError("m.mount expects a component, not a vnode.");var E=s.indexOf(C);E>=0&&(s.splice(E,2),E<=o&&(o-=2),n(C,[])),R!=null&&(s.push(C,R),n(C,D(R),u))}return{mount:y,redraw:u}}var et=Qt(Tt,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null);function Et(n){if(Object.prototype.toString.call(n)!=="[object Object]")return"";var a=[];for(var c in n)s(c,n[c]);return a.join("&");function s(b,o){if(Array.isArray(o))for(var m=0;m<o.length;m++)s(b+"["+m+"]",o[m]);else if(Object.prototype.toString.call(o)==="[object Object]")for(var m in o)s(b+"["+m+"]",o[m]);else a.push(encodeURIComponent(b)+(o!=null&&o!==""?"="+encodeURIComponent(o):""))}}function rt(n,a){if(/:([^\/\.-]+)(\.{3})?:/.test(n))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(a==null)return n;var c=n.indexOf("?"),s=n.indexOf("#"),b=s<0?n.length:s,o=c<0?b:c,m=n.slice(0,o),h={};Object.assign(h,a);var u=m.replace(/:([^\/\.-]+)(\.{3})?/g,function(A,I,F){return delete h[I],a[I]==null?A:F?a[I]:encodeURIComponent(String(a[I]))}),y=u.indexOf("?"),C=u.indexOf("#"),R=C<0?u.length:C,E=y<0?R:y,$=u.slice(0,E);c>=0&&($+=n.slice(c,b)),y>=0&&($+=(c<0?"?":"&")+u.slice(y,R));var N=Et(h);return N&&($+=(c<0&&y<0?"?":"&")+N),s>=0&&($+=n.slice(s)),C>=0&&($+=(s<0?"":"&")+u.slice(C)),$}function St(n,a,c){var s=0;function b(h){return new a(h)}b.prototype=a.prototype,b.__proto__=a;function o(h){return function(u,y){typeof u!="string"?(y=u,u=u.url):y==null&&(y={});var C=new a(function(N,A){h(rt(u,y.params),y,function(I){if(typeof y.type=="function")if(Array.isArray(I))for(var F=0;F<I.length;F++)I[F]=new y.type(I[F]);else I=new y.type(I);N(I)},A)});if(y.background===!0)return C;var R=0;function E(){--R==0&&typeof c=="function"&&c()}return $(C);function $(N){var A=N.then;return N.constructor=b,N.then=function(){R++;var I=A.apply(N,arguments);return I.then(E,function(F){if(E(),R===0)throw F}),$(I)},N}}}function m(h,u){for(var y in h.headers)if(Object.prototype.hasOwnProperty.call(h.headers,y)&&u.test(y))return!0;return!1}return{request:o(function(h,u,y,C){var R=u.method!=null?u.method.toUpperCase():"GET",E=u.body,$=(u.serialize==null||u.serialize===JSON.serialize)&&!(E instanceof n.FormData),N=u.responseType||(typeof u.extract=="function"?"":"json"),A=new n.XMLHttpRequest,I=!1,F=!1,G=A,Y,U=A.abort;A.abort=function(){I=!0,U.call(this)},A.open(R,h,u.async!==!1,typeof u.user=="string"?u.user:void 0,typeof u.password=="string"?u.password:void 0),$&&E!=null&&!m(u,/^content-type$/i)&&A.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof u.deserialize!="function"&&!m(u,/^accept$/i)&&A.setRequestHeader("Accept","application/json, text/*"),u.withCredentials&&(A.withCredentials=u.withCredentials),u.timeout&&(A.timeout=u.timeout),A.responseType=N;for(var w in u.headers)Object.prototype.hasOwnProperty.call(u.headers,w)&&A.setRequestHeader(w,u.headers[w]);A.onreadystatechange=function(x){if(!I&&x.target.readyState===4)try{var T=x.target.status>=200&&x.target.status<300||x.target.status===304||/^file:\/\//i.test(h),L=x.target.response,P;if(N==="json"?!x.target.responseType&&typeof u.extract!="function"&&(L=JSON.parse(x.target.responseText)):(!N||N==="text")&&L==null&&(L=x.target.responseText),typeof u.extract=="function"?(L=u.extract(x.target,u),T=!0):typeof u.deserialize=="function"&&(L=u.deserialize(L)),T)y(L);else{var z=function(){try{P=x.target.responseText}catch(V){P=L}var M=new Error(P);M.code=x.target.status,M.response=L,C(M)};A.status===0?setTimeout(function(){F||z()}):z()}}catch(M){C(M)}},A.ontimeout=function(x){F=!0;var T=new Error("Request timed out");T.code=x.target.status,C(T)},typeof u.config=="function"&&(A=u.config(A,u,h)||A,A!==G&&(Y=A.abort,A.abort=function(){I=!0,Y.call(this)})),E==null?A.send():typeof u.serialize=="function"?A.send(u.serialize(E)):E instanceof n.FormData?A.send(E):A.send(JSON.stringify(E))})}}var Jt=St(typeof window!="undefined"?window:null,Promise,et.redraw);function zt(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),c={},s={},b=0;b<a.length;b++){var o=a[b].split("="),m=decodeURIComponent(o[0]),h=o.length===2?decodeURIComponent(o[1]):"";h==="true"?h=!0:h==="false"&&(h=!1);var u=m.split(/\]\[?|\[/),y=s;m.indexOf("[")>-1&&u.pop();for(var C=0;C<u.length;C++){var R=u[C],E=u[C+1],$=E==""||!isNaN(parseInt(E,10));if(R===""){var m=u.slice(0,C).join();c[m]==null&&(c[m]=Array.isArray(y)?y.length:0),R=c[m]++}else if(R==="__proto__")break;if(C===u.length-1)y[R]=h;else{var N=Object.getOwnPropertyDescriptor(y,R);N!=null&&(N=N.value),N==null&&(y[R]=N=$?[]:{}),y=N}}}return s}function it(n){var a=n.indexOf("?"),c=n.indexOf("#"),s=c<0?n.length:c,b=a<0?s:a,o=n.slice(0,b).replace(/\/{2,}/g,"/");return o?(o[0]!=="/"&&(o="/"+o),o.length>1&&o[o.length-1]==="/"&&(o=o.slice(0,-1))):o="/",{path:o,params:a<0?{}:zt(n.slice(a+1,s))}}function Bt(n){var a=it(n),c=Object.keys(a.params),s=[],b=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(o,m,h){return m==null?"\\"+o:(s.push({k:m,r:h==="..."}),h==="..."?"(.*)":h==="."?"([^/]+)\\.":"([^/]+)"+(h||""))})+"$");return function(o){for(var m=0;m<c.length;m++)if(a.params[c[m]]!==o.params[c[m]])return!1;if(!s.length)return b.test(o.path);var h=b.exec(o.path);if(h==null)return!1;for(var m=0;m<s.length;m++)o.params[s[m].k]=s[m].r?h[m+1]:decodeURIComponent(h[m+1]);return!0}}var jt=/^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$/;function Pt(n,a){var c={};if(a!=null)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&!jt.test(s)&&a.indexOf(s)<0&&(c[s]=n[s]);else for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&!jt.test(s)&&(c[s]=n[s]);return c}var ut={},Gt=function(){var n=W;return function(a,c){var s=a===null?null:typeof a.setImmediate=="function"?a.setImmediate:a.setTimeout,b=Promise.resolve(),o=!1,m=!1,h=0,u,y,C=ut,R,E,$,N,A={onbeforeupdate:function(){return h=h?2:1,!(!h||ut===C)},onremove:function(){a.removeEventListener("popstate",G,!1),a.removeEventListener("hashchange",F,!1)},view:function(){if(!(!h||ut===C)){var w=[D(R,E.key,E)];return C&&(w=C.render(w[0])),w}}},I=U.SKIP={};function F(){o=!1;var w=a.location.hash;U.prefix[0]!=="#"&&(w=a.location.search+w,U.prefix[0]!=="?"&&(w=a.location.pathname+w,w[0]!=="/"&&(w="/"+w)));var x=w.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(U.prefix.length),T=it(x);Object.assign(T.params,a.history.state);function L(z){console.error(z),Y(y,null,{replace:!0})}P(0);function P(z){for(;z<u.length;z++)if(u[z].check(T)){var M=u[z].component,V=u[z].route,nt=M,X=N=function(Z){if(X===N){if(Z===I)return P(z+1);R=Z!=null&&(typeof Z.view=="function"||typeof Z=="function")?Z:"div",E=T.params,$=x,N=null,C=M.render?M:null,h===2?c.redraw():(h=2,c.redraw.sync())}};M.view||typeof M=="function"?(M={},X(nt)):M.onmatch?b.then(function(){return M.onmatch(T.params,x,V)}).then(X,x===y?null:L):X("div");return}if(x===y)throw new Error("Could not resolve default route "+y+".");Y(y,null,{replace:!0})}}function G(){o||(o=!0,s(F))}function Y(w,x,T){if(w=rt(w,x),m){G();var L=T?T.state:null,P=T?T.title:null;T&&T.replace?a.history.replaceState(L,P,U.prefix+w):a.history.pushState(L,P,U.prefix+w)}else a.location.href=U.prefix+w}function U(w,x,T){if(!w)throw new TypeError("DOM element being rendered to does not exist.");if(u=Object.keys(T).map(function(P){if(P[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(P))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:P,component:T[P],check:Bt(P)}}),y=x,x!=null){var L=it(x);if(!u.some(function(P){return P.check(L)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof a.history.pushState=="function"?a.addEventListener("popstate",G,!1):U.prefix[0]==="#"&&a.addEventListener("hashchange",F,!1),m=!0,c.mount(w,A),F()}return U.set=function(w,x,T){N!=null&&(T=T||{},T.replace=!0),N=null,Y(w,x,T)},U.get=function(){return $},U.prefix="#!",U.Link={view:function(w){var x=n(w.attrs.selector||"a",Pt(w.attrs,["options","params","selector","onclick"]),w.children),T,L,P;return(x.attrs.disabled=Boolean(x.attrs.disabled))?(x.attrs.href=null,x.attrs["aria-disabled"]="true"):(T=w.attrs.options,L=w.attrs.onclick,P=rt(x.attrs.href,w.attrs.params),x.attrs.href=U.prefix+P,x.attrs.onclick=function(z){var M;typeof L=="function"?M=L.call(z.currentTarget,z):L==null||typeof L!="object"||typeof L.handleEvent=="function"&&L.handleEvent(z),M!==!1&&!z.defaultPrevented&&(z.button===0||z.which===0||z.which===1)&&(!z.currentTarget.target||z.currentTarget.target==="_self")&&!z.ctrlKey&&!z.metaKey&&!z.shiftKey&&!z.altKey&&(z.preventDefault(),z.redraw=!1,U.set(P,null,T))}),x}},U.param=function(w){return E&&w!=null?E[w]:E},U}}(),Xt=Gt(typeof window!="undefined"?window:null,et),S=function(){return W.apply(this,arguments)};S.m=W,S.trust=W.trust,S.fragment=W.fragment,S.mount=et.mount,S.route=Xt,S.render=Tt,S.redraw=et.redraw,S.request=Jt.request,S.parseQueryString=zt,S.buildQueryString=Et,S.parsePathname=it,S.buildPathname=rt,S.vnode=D,S.censor=Pt,window.m=S})();
//# sourceMappingURL=alt.min.js.map
