"use strict";(function(){function H(n,l,a,s,b,h){return{tag:n,key:l,attrs:a,children:s,text:b,dom:h,domSize:void 0,state:void 0,events:void 0,instance:void 0}}H.normalize=function(n){return Array.isArray(n)?H("[",void 0,void 0,H.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:H("#",void 0,void 0,String(n),void 0,void 0)},H.normalizeChildren=function(n){var l=[];if(n.length){for(var a=n[0]!=null&&n[0].key!=null,s=1;s<n.length;s++)if((n[s]!=null&&n[s].key!=null)!==a)throw new TypeError(a&&(n[s]!=null||typeof n[s]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var s=0;s<n.length;s++)l[s]=H.normalize(n[s])}return l};function Ot(){var n=arguments[this],l=this+1,a;if(n==null?n={}:(typeof n!="object"||n.tag!=null||Array.isArray(n))&&(n={},l=this),arguments.length===l+1)a=arguments[l],Array.isArray(a)||(a=[a]);else for(a=[];l<arguments.length;)a.push(arguments[l++]);return H("",n.key,n,a)}var _t=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Ct={};function At(n){for(var l in n)if(Object.hasOwnProperty.call(n,l))return!1;return!0}function Dt(n){for(var l,a="div",s=[],b={};l=_t.exec(n);){var h=l[1],m=l[2];if(h===""&&m!=="")a=m;else if(h==="#")b.id=m;else if(h===".")s.push(m);else if(l[3][0]==="["){var o=l[6];o&&(o=o.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),l[4]==="class"?s.push(o):b[l[4]]=o===""?o:o||!0}}return s.length>0&&(b.className=s.join(" ")),Ct[n]={tag:a,attrs:b}}function Ht(n,l){var a=l.attrs,s=H.normalizeChildren(l.children),b=Object.hasOwnProperty.call(a,"class"),h=b?a.class:a.className;if(l.tag=n.tag,l.attrs=null,l.children=void 0,!At(n.attrs)&&!At(a)){var m={};for(var o in a)Object.hasOwnProperty.call(a,o)&&(m[o]=a[o]);a=m}for(var o in n.attrs)Object.hasOwnProperty.call(n.attrs,o)&&o!=="className"&&!Object.hasOwnProperty.call(a,o)&&(a[o]=n.attrs[o]);(h!=null||n.attrs.className!=null)&&(a.className=h!=null?n.attrs.className!=null?String(n.attrs.className)+" "+String(h):h:n.attrs.className!=null?n.attrs.className:null),b&&(a.class=null);for(var o in a)if(Object.hasOwnProperty.call(a,o)&&o!=="key"){l.attrs=a;break}return Array.isArray(s)&&s.length===1&&s[0]!=null&&s[0].tag==="#"?l.text=s[0].children:l.children=s,l}function Z(n){if(n==null||typeof n!="string"&&typeof n!="function"&&typeof n.view!="function")throw Error("The selector must be either a string or a component.");var l=Ot.apply(1,arguments);return typeof n=="string"&&(l.children=H.normalizeChildren(l.children),n!=="[")?Ht(Ct[n]||Dt(n),l):(l.tag=n,l)}function Ft(n){return(n===void 0||n==null)&&(n=""),H("<",void 0,void 0,n,void 0,void 0)}function Ut(){var n=Ot.apply(0,arguments);return n.tag="[",n.children=H.normalizeChildren(n.children),n}Z.trust=Ft,Z.fragment=Ut;function $t(n){var l=n&&n.document,a,s={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function b(e){return e.attrs&&e.attrs.xmlns||s[e.tag]}function h(e,t){if(e.state!==t)throw new Error("'vnode.state' must not be modified.")}function m(e){var t=e.state;try{return this.apply(t,arguments)}finally{h(e,t)}}function o(){try{return l.activeElement}catch(e){return null}}function c(e,t,r,i,f,u,w){for(var C=r;C<i;C++){var p=t[C];p!=null&&y(e,p,f,w,u)}}function y(e,t,r,i,f){var u=t.tag;if(typeof u=="string")switch(t.state={},t.attrs!=null&&mt(t.attrs,t,r),u){case"#":A(e,t,f);break;case"<":P(e,t,i,f);break;case"[":I(e,t,r,i,f);break;default:j(e,t,r,i,f)}else q(e,t,r,i,f)}function A(e,t,r){t.dom=l.createTextNode(t.children),V(e,t.dom,r)}var T={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function P(e,t,r,i){var f=t.children.match(/^\s*?<(\w+)/im)||[],u=l.createElement(T[f[1]]||"div");r==="http://www.w3.org/2000/svg"?(u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",u=u.firstChild):u.innerHTML=t.children,t.dom=u.firstChild,t.domSize=u.childNodes.length,t.instance=[];for(var w=l.createDocumentFragment(),C;C=u.firstChild;)t.instance.push(C),w.appendChild(C);V(e,w,i)}function I(e,t,r,i,f){var u=l.createDocumentFragment();if(t.children!=null){var w=t.children;c(u,w,0,w.length,r,null,i)}t.dom=u.firstChild,t.domSize=u.childNodes.length,V(e,u,f)}function j(e,t,r,i,f){var u=t.tag,w=t.attrs,C=w&&w.is;i=b(t)||i;var p=i?C?l.createElementNS(i,u,{is:C}):l.createElementNS(i,u):C?l.createElement(u,{is:C}):l.createElement(u);if(t.dom=p,w!=null&&Xt(t,w,i),V(e,p,f),!k(t)&&(t.text!=null&&(t.text!==""?p.textContent=t.text:t.children=[H("#",void 0,void 0,t.text,void 0,void 0)]),t.children!=null)){var z=t.children;c(p,z,0,z.length,r,null,i),t.tag==="select"&&w!=null&&Zt(t,w)}}function x(e,t){var r;if(typeof e.tag.view=="function"){if(e.state=Object.create(e.tag),r=e.state.view,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0}else{if(e.state=void 0,r=e.tag,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0,e.state=e.tag.prototype!=null&&typeof e.tag.prototype.view=="function"?new e.tag(e):e.tag(e)}if(mt(e.state,e,t),e.attrs!=null&&mt(e.attrs,e,t),e.instance=H.normalize(m.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function q(e,t,r,i,f){x(t,r),t.instance!=null?(y(e,t.instance,r,i,f),t.dom=t.instance.dom,t.domSize=t.dom!=null?t.instance.domSize:0):t.domSize=0}function $(e,t,r,i,f,u){if(!(t===r||t==null&&r==null))if(t==null||t.length===0)c(e,r,0,r.length,i,f,u);else if(r==null||r.length===0)X(e,t,0,t.length);else{var w=t[0]!=null&&t[0].key!=null,C=r[0]!=null&&r[0].key!=null,p=0,z=0;if(!w)for(;z<t.length&&t[z]==null;)z++;if(!C)for(;p<r.length&&r[p]==null;)p++;if(w!==C)X(e,t,z,t.length),c(e,r,p,r.length,i,f,u);else if(C){for(var B=t.length-1,U=r.length-1,lt,G,F,Q,L,gt;B>=z&&U>=p&&(Q=t[B],L=r[U],Q.key===L.key);)Q!==L&&J(e,Q,L,i,f,u),L.dom!=null&&(f=L.dom),B--,U--;for(;B>=z&&U>=p&&(G=t[z],F=r[p],G.key===F.key);)z++,p++,G!==F&&J(e,G,F,i,O(t,z,f),u);for(;B>=z&&U>=p&&!(p===U||G.key!==L.key||Q.key!==F.key);)gt=O(t,z,f),K(e,Q,gt),Q!==F&&J(e,Q,F,i,gt,u),++p<=--U&&K(e,G,f),G!==L&&J(e,G,L,i,f,u),L.dom!=null&&(f=L.dom),z++,B--,Q=t[B],L=r[U],G=t[z],F=r[p];for(;B>=z&&U>=p&&Q.key===L.key;)Q!==L&&J(e,Q,L,i,f,u),L.dom!=null&&(f=L.dom),B--,U--,Q=t[B],L=r[U];if(p>U)X(e,t,z,B+1);else if(z>B)c(e,r,p,U+1,i,f,u);else{var te=f,Mt=U-p+1,tt=new Array(Mt),yt=0,D=0,wt=2147483647,bt=0,lt,xt;for(D=0;D<Mt;D++)tt[D]=-1;for(D=U;D>=p;D--){lt==null&&(lt=N(t,z,B+1)),L=r[D];var v=lt[L.key];v!=null&&(wt=v<wt?v:-1,tt[D-p]=v,Q=t[v],t[v]=null,Q!==L&&J(e,Q,L,i,f,u),L.dom!=null&&(f=L.dom),bt++)}if(f=te,bt!==B-z+1&&X(e,t,z,B+1),bt===0)c(e,r,p,U+1,i,f,u);else if(wt===-1)for(xt=_(tt),yt=xt.length-1,D=U;D>=p;D--)F=r[D],tt[D-p]===-1?y(e,F,i,u,f):xt[yt]===D-p?yt--:K(e,F,f),F.dom!=null&&(f=r[D].dom);else for(D=U;D>=p;D--)F=r[D],tt[D-p]===-1&&y(e,F,i,u,f),F.dom!=null&&(f=r[D].dom)}}else{var pt=t.length<r.length?t.length:r.length;for(p=p<z?p:z;p<pt;p++)G=t[p],F=r[p],!(G===F||G==null&&F==null)&&(G==null?y(e,F,i,u,O(t,p+1,f)):F==null?ft(e,G):J(e,G,F,i,O(t,p+1,f),u));t.length>pt&&X(e,t,p,t.length),r.length>pt&&c(e,r,p,r.length,i,f,u)}}}function J(e,t,r,i,f,u){var w=t.tag,C=r.tag;if(w===C){if(r.state=t.state,r.events=t.events,dt(r,t))return;if(typeof w=="string")switch(r.attrs!=null&&ot(r.attrs,r,i),w){case"#":Y(t,r);break;case"<":W(e,t,r,u,f);break;case"[":M(e,t,r,i,f,u);break;default:g(t,r,i,u)}else E(e,t,r,i,f,u)}else ft(e,t),y(e,r,i,u,f)}function Y(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children),t.dom=e.dom}function W(e,t,r,i,f){t.children!==r.children?(Pt(e,t),P(e,r,i,f)):(r.dom=t.dom,r.domSize=t.domSize,r.instance=t.instance)}function M(e,t,r,i,f,u){$(e,t.children,r.children,i,f,u);var w=0,C=r.children;if(r.dom=null,C!=null){for(var p=0;p<C.length;p++){var z=C[p];z!=null&&z.dom!=null&&(r.dom==null&&(r.dom=z.dom),w+=z.domSize||1)}w!==1&&(r.domSize=w)}}function g(e,t,r,i){var f=t.dom=e.dom;i=b(t)||i,t.tag==="textarea"&&(t.attrs==null&&(t.attrs={}),t.text!=null&&(t.attrs.value=t.text,t.text=void 0)),Wt(t,e.attrs,t.attrs,i),k(t)||(e.text!=null&&t.text!=null&&t.text!==""?e.text.toString()!==t.text.toString()&&(e.dom.firstChild.nodeValue=t.text):(e.text!=null&&(e.children=[H("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),t.text!=null&&(t.children=[H("#",void 0,void 0,t.text,void 0,void 0)]),$(f,e.children,t.children,r,null,i)))}function E(e,t,r,i,f,u){if(r.instance=H.normalize(m.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");ot(r.state,r,i),r.attrs!=null&&ot(r.attrs,r,i),r.instance!=null?(t.instance==null?y(e,r.instance,i,u,f):J(e,t.instance,r.instance,i,f,u),r.dom=r.instance.dom,r.domSize=r.instance.domSize):t.instance!=null?(ft(e,t.instance),r.dom=void 0,r.domSize=0):(r.dom=t.dom,r.domSize=t.domSize)}function N(e,t,r){for(var i=Object.create(null);t<r;t++){var f=e[t];if(f!=null){var u=f.key;u!=null&&(i[u]=t)}}return i}var R=[];function _(e){for(var t=[0],r=0,i=0,f=0,u=R.length=e.length,f=0;f<u;f++)R[f]=e[f];for(var f=0;f<u;++f)if(e[f]!==-1){var w=t[t.length-1];if(e[w]<e[f]){R[f]=w,t.push(f);continue}for(r=0,i=t.length-1;r<i;){var C=(r>>>1)+(i>>>1)+(r&i&1);e[t[C]]<e[f]?r=C+1:i=C}e[f]<e[t[r]]&&(r>0&&(R[f]=t[r-1]),t[r]=f)}for(r=t.length,i=t[r-1];r-- >0;)t[r]=i,i=R[i];return R.length=0,t}function O(e,t,r){for(;t<e.length;t++)if(e[t]!=null&&e[t].dom!=null)return e[t].dom;return r}function K(e,t,r){var i=l.createDocumentFragment();nt(e,i,t),V(e,i,r)}function nt(e,t,r){for(;r.dom!=null&&r.dom.parentNode===e;){if(typeof r.tag!="string"){if(r=r.instance,r!=null)continue}else if(r.tag==="<")for(var i=0;i<r.instance.length;i++)t.appendChild(r.instance[i]);else if(r.tag!=="[")t.appendChild(r.dom);else if(r.children.length===1){if(r=r.children[0],r!=null)continue}else for(var i=0;i<r.children.length;i++){var f=r.children[i];f!=null&&nt(e,t,f)}break}}function V(e,t,r){r!=null?e.insertBefore(t,r):e.appendChild(t)}function k(e){if(e.attrs==null||e.attrs.contenteditable==null&&e.attrs.contentEditable==null)return!1;var t=e.children;if(t!=null&&t.length===1&&t[0].tag==="<"){var r=t[0].children;e.dom.innerHTML!==r&&(e.dom.innerHTML=r)}else if(e.text!=null||t!=null&&t.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function X(e,t,r,i){for(var f=r;f<i;f++){var u=t[f];u!=null&&ft(e,u)}}function ft(e,t){var r=0,i=t.state,f,u;if(typeof t.tag!="string"&&typeof t.state.onbeforeremove=="function"){var w=m.call(t.state.onbeforeremove,t);w!=null&&typeof w.then=="function"&&(r=1,f=w)}if(t.attrs&&typeof t.attrs.onbeforeremove=="function"){var w=m.call(t.attrs.onbeforeremove,t);w!=null&&typeof w.then=="function"&&(r|=2,u=w)}if(h(t,i),!r)at(t),ut(e,t);else{if(f!=null){var C=function(){r&1&&(r&=2,r||p())};f.then(C,C)}if(u!=null){var C=function(){r&2&&(r&=1,r||p())};u.then(C,C)}}function p(){h(t,i),at(t),ut(e,t)}}function Pt(e,t){for(var r=0;r<t.instance.length;r++)e.removeChild(t.instance[r])}function ut(e,t){for(;t.dom!=null&&t.dom.parentNode===e;){if(typeof t.tag!="string"){if(t=t.instance,t!=null)continue}else if(t.tag==="<")Pt(e,t);else{if(t.tag!=="["&&(e.removeChild(t.dom),!Array.isArray(t.children)))break;if(t.children.length===1){if(t=t.children[0],t!=null)continue}else for(var r=0;r<t.children.length;r++){var i=t.children[r];i!=null&&ut(e,i)}}break}}function at(e){if(typeof e.tag!="string"&&typeof e.state.onremove=="function"&&m.call(e.state.onremove,e),e.attrs&&typeof e.attrs.onremove=="function"&&m.call(e.attrs.onremove,e),typeof e.tag!="string")e.instance!=null&&at(e.instance);else{var t=e.children;if(Array.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];i!=null&&at(i)}}}function Xt(e,t,r){e.tag==="input"&&t.type!=null&&e.dom.setAttribute("type",t.type);var i=t!=null&&e.tag==="input"&&t.type==="file";for(var f in t)ct(e,f,null,t[f],r,i)}function ct(e,t,r,i,f,u){if(!(t==="key"||t==="is"||i==null||Rt(t)||r===i&&!Vt(e,t)&&typeof i!="object"||t==="type"&&e.tag==="input")){if(t[0]==="o"&&t[1]==="n")return It(e,t,i);if(t.slice(0,6)==="xlink:")e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),i);else if(t==="style")qt(e.dom,r,i);else if(Lt(e,t,f)){if(t==="value"){if((e.tag==="input"||e.tag==="textarea")&&e.dom.value===""+i&&(u||e.dom===o())||e.tag==="select"&&r!==null&&e.dom.value===""+i||e.tag==="option"&&r!==null&&e.dom.value===""+i)return;if(u&&""+i!=""){console.error("`value` is read-only on file inputs!");return}}e.dom[t]=i}else typeof i=="boolean"?i?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute(t==="className"?"class":t,i)}}function Yt(e,t,r,i){if(!(t==="key"||t==="is"||r==null||Rt(t)))if(t[0]==="o"&&t[1]==="n")It(e,t,void 0);else if(t==="style")qt(e.dom,r,null);else if(Lt(e,t,i)&&t!=="className"&&!(t==="value"&&(e.tag==="option"||e.tag==="select"&&e.dom.selectedIndex===-1&&e.dom===o()))&&!(e.tag==="input"&&t==="type"))e.dom[t]=null;else{var f=t.indexOf(":");f!==-1&&(t=t.slice(f+1)),r!==!1&&e.dom.removeAttribute(t==="className"?"class":t)}}function Zt(e,t){if("value"in t)if(t.value===null)e.dom.selectedIndex!==-1&&(e.dom.value=null);else{var r=""+t.value;(e.dom.value!==r||e.dom.selectedIndex===-1)&&(e.dom.value=r)}"selectedIndex"in t&&ct(e,"selectedIndex",null,t.selectedIndex,void 0)}function Wt(e,t,r,i){if(r!=null){e.tag==="input"&&r.type!=null&&e.dom.setAttribute("type",r.type);var f=e.tag==="input"&&r.type==="file";for(var u in r)ct(e,u,t&&t[u],r[u],i,f)}var w;if(t!=null)for(var u in t)(w=t[u])!=null&&(r==null||r[u]==null)&&Yt(e,u,w,i)}function Vt(e,t){return t==="value"||t==="checked"||t==="selectedIndex"||t==="selected"&&e.dom===o()||e.tag==="option"&&e.dom.parentNode===l.activeElement}function Rt(e){return e==="oninit"||e==="oncreate"||e==="onupdate"||e==="onremove"||e==="onbeforeremove"||e==="onbeforeupdate"}function Lt(e,t,r){return r===void 0&&(e.tag.indexOf("-")>-1||e.attrs!=null&&e.attrs.is||t!=="href"&&t!=="list"&&t!=="form"&&t!=="width"&&t!=="height")&&t in e.dom}var kt=/[A-Z]/g;function vt(e){return"-"+e.toLowerCase()}function st(e){return e[0]==="-"&&e[1]==="-"?e:e==="cssFloat"?"float":e.replace(kt,vt)}function qt(e,t,r){if(t!==r)if(r==null)e.style.cssText="";else if(typeof r!="object")e.style.cssText=r;else if(t==null||typeof t!="object"){e.style.cssText="";for(var i in r){var f=r[i];f!=null&&e.style.setProperty(st(i),String(f))}}else{for(var i in r){var f=r[i];f!=null&&(f=String(f))!==String(t[i])&&e.style.setProperty(st(i),f)}for(var i in t)t[i]!=null&&r[i]==null&&e.style.removeProperty(st(i))}}function ht(){this._=a}ht.prototype=Object.create(null),ht.prototype.handleEvent=function(e){var t=this["on"+e.type],r;typeof t=="function"?r=t.call(e.currentTarget,e):typeof t.handleEvent=="function"&&t.handleEvent(e),this._&&e.redraw!==!1&&(0,this._)(),r===!1&&(e.preventDefault(),e.stopPropagation())};function It(e,t,r){if(e.events!=null){if(e.events._=a,e.events[t]===r)return;r!=null&&(typeof r=="function"||typeof r=="object")?(e.events[t]==null&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=r):(e.events[t]!=null&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0)}else r!=null&&(typeof r=="function"||typeof r=="object")&&(e.events=new ht,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=r)}function mt(e,t,r){typeof e.oninit=="function"&&m.call(e.oninit,t),typeof e.oncreate=="function"&&r.push(m.bind(e.oncreate,t))}function ot(e,t,r){typeof e.onupdate=="function"&&r.push(m.bind(e.onupdate,t))}function dt(e,t){do{if(e.attrs!=null&&typeof e.attrs.onbeforeupdate=="function"){var r=m.call(e.attrs.onbeforeupdate,e,t);if(r!==void 0&&!r)break}if(typeof e.tag!="string"&&typeof e.state.onbeforeupdate=="function"){var r=m.call(e.state.onbeforeupdate,e,t);if(r!==void 0&&!r)break}return!1}while(!1);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,!0}var d;return function(e,t,r){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(d!=null&&e.contains(d))throw new TypeError("Node is currently being rendered to and thus is locked.");var i=a,f=d,u=[],w=o(),C=e.namespaceURI;d=e,a=typeof r=="function"?r:void 0;try{e.vnodes==null&&(e.textContent=""),t=H.normalizeChildren(Array.isArray(t)?t:[t]),$(e,e.vnodes,t,u,null,C==="http://www.w3.org/1999/xhtml"?void 0:C),e.vnodes=t,w!=null&&o()!==w&&typeof w.focus=="function"&&w.focus();for(var p=0;p<u.length;p++)u[p]()}finally{a=i,d=f}}}var Nt=$t(typeof window!="undefined"?window:null);function Kt(n,l,a){var s=[],b=!1,h=-1;function m(){for(h=0;h<s.length;h+=2)try{n(s[h],H(s[h+1]),c)}catch(A){a.error(A)}h=-1}function o(){b=!1,m()}function c(){b||(b=!0,l(o))}c.sync=m;function y(A,T){if(T!=null&&T.view==null&&typeof T!="function")throw new TypeError("m.mount expects a component, not a vnode.");var P=s.indexOf(A);P>=0&&(s.splice(P,2),P<=h&&(h-=2),n(A,[])),T!=null&&(s.push(A,T),n(A,H(T),c))}return{mount:y,redraw:c}}var et=Kt(Nt,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null);function Tt(n){if(Object.prototype.toString.call(n)!=="[object Object]")return"";var l=[];for(var a in n)s(a,n[a]);return l.join("&");function s(b,h){if(Array.isArray(h))for(var m=0;m<h.length;m++)s(b+"["+m+"]",h[m]);else if(Object.prototype.toString.call(h)==="[object Object]")for(var m in h)s(b+"["+m+"]",h[m]);else l.push(encodeURIComponent(b)+(h!=null&&h!==""?"="+encodeURIComponent(h):""))}}function rt(n,l){if(/:([^\/\.-]+)(\.{3})?:/.test(n))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(l==null)return n;var a=n.indexOf("?"),s=n.indexOf("#"),b=s<0?n.length:s,h=a<0?b:a,m=n.slice(0,h),o={};Object.assign(o,l);var c=m.replace(/:([^\/\.-]+)(\.{3})?/g,function(x,q,$){return delete o[q],l[q]==null?x:$?l[q]:encodeURIComponent(String(l[q]))}),y=c.indexOf("?"),A=c.indexOf("#"),T=A<0?c.length:A,P=y<0?T:y,I=c.slice(0,P);a>=0&&(I+=n.slice(a,b)),y>=0&&(I+=(a<0?"?":"&")+c.slice(y,T));var j=Tt(o);return j&&(I+=(a<0&&y<0?"?":"&")+j),s>=0&&(I+=n.slice(s)),A>=0&&(I+=(s<0?"":"&")+c.slice(A)),I}function Qt(n,l,a){var s=0;function b(o){return new l(o)}b.prototype=l.prototype,b.__proto__=l;function h(o){return function(c,y){typeof c!="string"?(y=c,c=c.url):y==null&&(y={});var A=new l(function(j,x){o(rt(c,y.params),y,function(q){if(typeof y.type=="function")if(Array.isArray(q))for(var $=0;$<q.length;$++)q[$]=new y.type(q[$]);else q=new y.type(q);j(q)},x)});if(y.background===!0)return A;var T=0;function P(){--T==0&&typeof a=="function"&&a()}return I(A);function I(j){var x=j.then;return j.constructor=b,j.then=function(){T++;var q=x.apply(j,arguments);return q.then(P,function($){if(P(),T===0)throw $}),I(q)},j}}}function m(o,c){for(var y in o.headers)if(Object.hasOwnProperty.call(o.headers,y)&&c.test(y))return!0;return!1}return{request:h(function(o,c,y,A){var T=c.method!=null?c.method.toUpperCase():"GET",P=c.body,I=(c.serialize==null||c.serialize===JSON.serialize)&&!(P instanceof n.FormData),j=c.responseType||(typeof c.extract=="function"?"":"json"),x=new n.XMLHttpRequest,q=!1,$=!1,J=x,Y,W=x.abort;x.abort=function(){q=!0,W.call(this)},x.open(T,o,c.async!==!1,typeof c.user=="string"?c.user:void 0,typeof c.password=="string"?c.password:void 0),I&&P!=null&&!m(c,/^content-type$/i)&&x.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof c.deserialize!="function"&&!m(c,/^accept$/i)&&x.setRequestHeader("Accept","application/json, text/*"),c.withCredentials&&(x.withCredentials=c.withCredentials),c.timeout&&(x.timeout=c.timeout),x.responseType=j;for(var M in c.headers)Object.hasOwnProperty.call(c.headers,M)&&x.setRequestHeader(M,c.headers[M]);x.onreadystatechange=function(g){if(!q&&g.target.readyState===4)try{var E=g.target.status>=200&&g.target.status<300||g.target.status===304||/^file:\/\//i.test(o),N=g.target.response,R;if(j==="json"?!g.target.responseType&&typeof c.extract!="function"&&(N=JSON.parse(g.target.responseText)):(!j||j==="text")&&N==null&&(N=g.target.responseText),typeof c.extract=="function"?(N=c.extract(g.target,c),E=!0):typeof c.deserialize=="function"&&(N=c.deserialize(N)),E)y(N);else{var _=function(){try{R=g.target.responseText}catch(K){R=N}var O=new Error(R);O.code=g.target.status,O.response=N,A(O)};x.status===0?setTimeout(function(){$||_()}):_()}}catch(O){A(O)}},x.ontimeout=function(g){$=!0;var E=new Error("Request timed out");E.code=g.target.status,A(E)},typeof c.config=="function"&&(x=c.config(x,c,o)||x,x!==J&&(Y=x.abort,x.abort=function(){q=!0,Y.call(this)})),P==null?x.send():typeof c.serialize=="function"?x.send(c.serialize(P)):P instanceof n.FormData?x.send(P):x.send(JSON.stringify(P))})}}var St=Qt(typeof window!="undefined"?window:null,Promise,et.redraw);function Et(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var l=n.split("&"),a={},s={},b=0;b<l.length;b++){var h=l[b].split("="),m=decodeURIComponent(h[0]),o=h.length===2?decodeURIComponent(h[1]):"";o==="true"?o=!0:o==="false"&&(o=!1);var c=m.split(/\]\[?|\[/),y=s;m.indexOf("[")>-1&&c.pop();for(var A=0;A<c.length;A++){var T=c[A],P=c[A+1],I=P==""||!isNaN(parseInt(P,10));if(T===""){var m=c.slice(0,A).join();a[m]==null&&(a[m]=Array.isArray(y)?y.length:0),T=a[m]++}else if(T==="__proto__")break;if(A===c.length-1)y[T]=o;else{var j=Object.getOwnPropertyDescriptor(y,T);j!=null&&(j=j.value),j==null&&(y[T]=j=I?[]:{}),y=j}}}return s}function it(n){var l=n.indexOf("?"),a=n.indexOf("#"),s=a<0?n.length:a,b=l<0?s:l,h=n.slice(0,b).replace(/\/{2,}/g,"/");return h?(h[0]!=="/"&&(h="/"+h),h.length>1&&h[h.length-1]==="/"&&(h=h.slice(0,-1))):h="/",{path:h,params:l<0?{}:Et(n.slice(l+1,s))}}function Jt(n){var l=it(n),a=Object.keys(l.params),s=[],b=new RegExp("^"+l.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(h,m,o){return m==null?"\\"+h:(s.push({k:m,r:o==="..."}),o==="..."?"(.*)":o==="."?"([^/]+)\\.":"([^/]+)"+(o||""))})+"$");return function(h){for(var m=0;m<a.length;m++)if(l.params[a[m]]!==h.params[a[m]])return!1;if(!s.length)return b.test(h.path);var o=b.exec(h.path);if(o==null)return!1;for(var m=0;m<s.length;m++)h.params[s[m].k]=s[m].r?o[m+1]:decodeURIComponent(o[m+1]);return!0}}var zt=/^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$/;function jt(n,l){var a={};if(l!=null)for(var s in n)Object.hasOwnProperty.call(n,s)&&!zt.test(s)&&l.indexOf(s)<0&&(a[s]=n[s]);else for(var s in n)Object.hasOwnProperty.call(n,s)&&!zt.test(s)&&(a[s]=n[s]);return a}var Bt=function(){var n={},l=Z;return function(a,s){var b=a===null?null:typeof a.setImmediate=="function"?a.setImmediate:a.setTimeout,h=Promise.resolve(),m=!1,o=!1,c=0,y,A,T=n,P,I,j,x,q={onbeforeupdate:function(){return c=c?2:1,!(!c||n===T)},onremove:function(){a.removeEventListener("popstate",Y,!1),a.removeEventListener("hashchange",J,!1)},view:function(){if(!(!c||n===T)){var g=[H(P,I.key,I)];return T&&(g=T.render(g[0])),g}}},$=M.SKIP={};function J(){m=!1;var g=a.location.hash;M.prefix[0]!=="#"&&(g=a.location.search+g,M.prefix[0]!=="?"&&(g=a.location.pathname+g,g[0]!=="/"&&(g="/"+g)));var E=g.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(M.prefix.length),N=it(E);Object.assign(N.params,a.history.state);function R(O){console.error(O),W(A,null,{replace:!0})}_(0);function _(O){for(;O<y.length;O++)if(y[O].check(N)){var K=y[O].component,nt=y[O].route,V=K,k=x=function(X){if(k===x){if(X===$)return _(O+1);P=X!=null&&(typeof X.view=="function"||typeof X=="function")?X:"div",I=N.params,j=E,x=null,T=K.render?K:null,c===2?s.redraw():(c=2,s.redraw.sync())}};K.view||typeof K=="function"?(K={},k(V)):K.onmatch?h.then(function(){return K.onmatch(N.params,E,nt)}).then(k,E===A?null:R):k("div");return}if(E===A)throw new Error("Could not resolve default route "+A+".");W(A,null,{replace:!0})}}function Y(){m||(m=!0,b(J))}function W(g,E,N){if(g=rt(g,E),o){Y();var R=N?N.state:null,_=N?N.title:null;N&&N.replace?a.history.replaceState(R,_,M.prefix+g):a.history.pushState(R,_,M.prefix+g)}else a.location.href=M.prefix+g}function M(g,E,N){if(!g)throw new TypeError("DOM element being rendered to does not exist.");if(y=Object.keys(N).map(function(_){if(_[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(_))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:_,component:N[_],check:Jt(_)}}),A=E,E!=null){var R=it(E);if(!y.some(function(_){return _.check(R)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof a.history.pushState=="function"?a.addEventListener("popstate",Y,!1):M.prefix[0]==="#"&&a.addEventListener("hashchange",J,!1),o=!0,s.mount(g,q),J()}return M.set=function(g,E,N){x!=null&&(N=N||{},N.replace=!0),x=null,W(g,E,N)},M.get=function(){return j},M.prefix="#!",M.Link={view:function(g){var E=l(g.attrs.selector||"a",jt(g.attrs,["options","params","selector","onclick"]),g.children),N,R,_;return(E.attrs.disabled=Boolean(E.attrs.disabled))?(E.attrs.href=null,E.attrs["aria-disabled"]="true"):(N=g.attrs.options,R=g.attrs.onclick,_=rt(E.attrs.href,g.attrs.params),E.attrs.href=M.prefix+_,E.attrs.onclick=function(O){var K;typeof R=="function"?K=R.call(O.currentTarget,O):R==null||typeof R!="object"||typeof R.handleEvent=="function"&&R.handleEvent(O),K!==!1&&!O.defaultPrevented&&(O.button===0||O.which===0||O.which===1)&&(!O.currentTarget.target||O.currentTarget.target==="_self")&&!O.ctrlKey&&!O.metaKey&&!O.shiftKey&&!O.altKey&&(O.preventDefault(),O.redraw=!1,M.set(_,null,N))}),E}},M.param=function(g){return I&&g!=null?I[g]:I},M}}(),Gt=Bt(typeof window!="undefined"?window:null,et),S=function(){return Z.apply(this,arguments)};S.m=Z,S.trust=Z.trust,S.fragment=Z.fragment,S.mount=et.mount,S.route=Gt,S.render=Nt,S.redraw=et.redraw,S.request=St.request,S.parseQueryString=Et,S.buildQueryString=Tt,S.parsePathname=it,S.buildPathname=rt,S.vnode=H,S.censor=jt,window.m=S})();
//# sourceMappingURL=alt.min.js.map
